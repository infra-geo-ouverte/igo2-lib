{
  "uri": "_default",
  "title": "Default Context",
  "map": {
    "view": {
      "projection": "EPSG:3857",
      "center": [-72, 50],
      "zoom": 5
    }
  },
  "layers": [
    {
      "title": "MSP",
      "type": "xyz",
      "baseLayer": true,
      "visible": true,
      "source": {
        "url": "https://geoegl.msp.gouv.qc.ca/carto/tms/1.0.0/carte_gouv_qc_ro@EPSG_3857/{z}/{x}/{-y}.png"
      }
    }, {
      "title": "OSM",
      "type": "osm",
      "baseLayer": true,
      "visible": false
    },
    {
      "title": "Relief",
      "type": "xyz",
      "baseLayer": true,
      "visible": false,
      "view": {
        "minResolution": 1000,
        "maxResolution": 5000
      },
      "source": {
        "url": "https://geoegl.msp.gouv.qc.ca/carto/tms/1.0.0/carte_relief@EPSG_3857/{z}/{x}/{-y}.png"
      }
    },
    {
      "title": "Blanc",
      "type": "xyz",
      "baseLayer": true,
      "visible": false,
      "source": {
        "url": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII="
      }
    },
    {
      "title": "Embâcle",
      "type": "wms",
      "optionsFromCapabilities": true,
      "source": {
        "url": "/ws/igo_gouvouvert.fcgi",
        "params": {
          "layers": "vg_observation_v_inondation_embacle_wmst",
          "version": "1.3.0"
        },
        "projection": "EPSG:3857"
      },
      "metadata": {
        "url": "https://www.donneesquebec.ca/recherche/fr/dataset/historique-publique-d-embacles-repertories-au-msp",
        "extern": true
      },
      "timeFilter": {
        "min": "2011-03-01",
        "max": "2018-04-01",
        "range": false,
        "type": "datetime",
        "style": "slider",
	      "timeinterval": 3153600,
	      "step": 3153600
      }
    },
    {
      "type": "wms",
      "visible": false,
      "optionsFromCapabilities": true,
      "metadata": {
          "extern": true
      },
      "source": {
        "url": "/ws/igo_gouvouvert.fcgi",
        "params": {
          "layers": "MELS_CS_ANGLO_S",
          "version": "1.3.0"
        }
      },
       "queryFormat": "html",
       "queryHtmlTarget": "innerhtml"
    },
    {
      "name" : "cs avec filtre geojson",
      "id": "cs avec filtre",
      "title": "cs avec filtre",
      "type" : "wfs",
      "source"  :   {
           "url" : "/swtq",
           "featureTypes": "bgr_v_centr_servc_geomt_act",
           "fieldNameGeometry": "geometry",
           "maxFeatures" : 10000,
           "version" : "2.0.0",
           "outputFormat": "geojson",
           "outputFormatDownload": "shp"
         },
      "filters":         {"logical" : "Or", "filters":
        [
          {"operator" : "During","propertyName" : "dat_debut_", "begin" : "2014" ,"end" : "2016"},
          {"operator" : "PropertyIsEqualTo","propertyName" : "nom_unite_", "pattern" : "CS de Lévis"},
          {"operator" : "PropertyIsLike","propertyName" : "ide_unite_", "pattern" : "3*"}

        ]
      }
    }
    ,

       {

         "name" : "geojson",
         "id": "geojson",
         "title": "geojson",
         "type" : "wfs",
         "featureTypes": "bgr_v_centr_servc_geomt_act",
         "fieldNameGeometry": "geometry",
         "maxFeatures" : 5000,
         "version" : "2.0.0",
         "outputFormat": "geojson",
         "outputFormatDownload": "geojson",
         "filters":         {"logical" : "Or", "filters":
           [
             {"operator" : "During","propertyName" : "dat_debut_", "begin" : "2014" ,"end" : "2016"},
             {"operator" : "PropertyIsEqualTo","propertyName" : "nom_unite_", "pattern" : "CS de Lévis"},
             {"operator" : "PropertyIsLike","propertyName" : "ide_unite_", "pattern" : "3*"}

           ]
         },
         "source"  :   {"url" : "/swtq"}

       },

       {

         "name" : "testwfs",
         "id": "testwfs",
         "title": "testwfs",
         "type" : "wfs",
         "featureTypes": "vg_observation_v_inondation_embacle_wmst",
         "fieldNameGeometry": "geometry",
         "maxFeatures" : 5000,
         "version" : "2.0.0",
         "outputFormat": "geojson",
         "outputFormatDownload": "geojson",
         "source"  :   {"url" : "/ws/igo_gouvouvert.fcgi"}

       }
  ],
  "toolbar": [
    "searchResults",
    "mapDetails",
    "timeAnalysis",
    "contextManager",
    "print",
    "catalog",
    "importExport"
  ],
  "tools": [
    {
      "name": "searchResults"
    },
    {
      "name": "mapDetails"
    },
    {
      "name": "catalog"
    },
    {
      "name": "catalogLayers"
    },
    {
      "name": "timeAnalysis"
    },
    {
      "name": "contextManager"
    },
    {
      "name": "contextEditor"
    },
    {
      "name": "print"
    },
    {
      "name": "importExport",
      "options": "hello"
    }
  ]
}
