<small *ngIf="layer.dataSource.getLegend().length === 0">
  {{'igo.layer.noLegendText' | translate}}
</small>

<ng-template ngFor let-item [ngForOf]="layer.dataSource.getLegend()">
  <mat-list-item *ngIf="item.title">
    <mat-icon
      id="legend-toggle"
      class="igo-chevron"
      mat-list-avatar
      igoCollapse
      [target]="legend"
      [collapsed]="false">
    </mat-icon>
    <h4 matLine>{{item.title}}</h4>
  </mat-list-item>

  <div #legend class="igo-layer-legend" [ngClass]="{'with-title': item.title}">
    <img
      *ngIf="item.url"
      src="{{item.url}}"
      alt="{{'igo.layer.noLegendText' | translate}}">
    <div
      [ngStyle]="item.style"
      [innerHTML]="item.html"
      *ngIf="item.html">
    </div>
  </div>
</ng-template>
