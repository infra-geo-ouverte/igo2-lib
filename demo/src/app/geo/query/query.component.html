<mat-card>
  <mat-card-subtitle>Geo</mat-card-subtitle>
  <mat-card-title>Query</mat-card-title>
  <mat-card-content>
    <li>Dependencies: LanguageService</li>

    <br>
    See the <a href="https://github.com/infra-geo-ouverte/igo2-lib/tree/master/demo/src/app/geo/query">code of this example</a>
    <hr>
  </mat-card-content>

  <igo-map-browser
    [map]="map"
    [view]="view"
    igoOverlay
    igoQuery
    [queryFeatures]="true"
    (query)="handleQueryResults($event)">
    <igo-zoom-button [map]="map" color="primary"></igo-zoom-button>
  </igo-map-browser>

  <igo-panel title="Details">
    <ng-container *ngIf="features$ | async as features">
      <div *ngFor="let feature of features">
        <h1>Query Title : <span style="background-color: #e0e0e0;">{{getTitle(feature)}}</span></h1>
        <igo-feature-details [feature]="feature"></igo-feature-details>
      </div>
    </ng-container>
  </igo-panel>

</mat-card>
