@if (layer && currentLegend$ | async; as currentLegend) {
  <div
    class="igo-layer-legend-wms-selector"
    [ngClass]="{ 'with-title': (legends$ | async).length > 1 }"
  >
    @if ((legends$ | async)?.length > 1 && legends$ | async; as legends) {
      <mat-select
        [value]="currentLegend"
        tooltip-position="below"
        matTooltipShowDelay="500"
        [matTooltip]="'igo.geo.layer.legend.selectStyle' | translate"
        (selectionChange)="onChangeLegend($event)"
      >
        @for (legend of legends; track legend) {
          <mat-option [value]="legend">{{
            legend.title ??
              layer.title +
                ' (' +
                ('igo.geo.layer.legend.default' | translate) +
                ')'
          }}</mat-option>
        }
      </mat-select>
    }
  </div>
}
