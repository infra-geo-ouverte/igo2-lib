<igo-layer-legend-wms-selector
  *ngIf="isWMSDataSource()"
  [currentLegend$]="currentLegend$"
  [layer]="layer"
></igo-layer-legend-wms-selector>

<ng-container
  *ngIf="currentLegend$ | async as localCurrentLegend; else noItems"
>
  <ng-container *ngIf="isValidLegend(); else noItems">
    <ng-container *ngFor="let url of localCurrentLegend.urls">
      <img
        [src]="url | secureImage | async"
        alt="{{ 'igo.geo.layer.legend.loadingLegendText' | translate }}"
      />
    </ng-container>
    <ng-container *ngFor="let html of localCurrentLegend.htmls">
      <div [innerHTML]="html | sanitizeHtml"></div>
    </ng-container>
  </ng-container>
</ng-container>
<ng-template #noItems>
  <small>
    {{ 'igo.geo.layer.legend.noLegendText' | translate }}
  </small>
</ng-template>
