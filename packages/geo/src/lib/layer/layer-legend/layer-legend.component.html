@if (isWMSDataSource()) {
  <igo-layer-legend-wms-selector
    [currentLegend$]="currentLegend$"
    [layer]="layer"
  ></igo-layer-legend-wms-selector>
}

@if (currentLegend$ | async; as localCurrentLegend) {
  @if (isValidLegend()) {
    @if (containLegendUrl()) {
      <img
        [src]="localCurrentLegend.url | secureImage | async"
        alt="{{ 'igo.geo.layer.legend.loadingLegendText' | translate }}"
      />
    }
    @if (containLegendHtml()) {
      <igo-custom-html [html]="localCurrentLegend.html"></igo-custom-html>
    }
  } @else {
    <small>
      {{ 'igo.geo.layer.legend.noLegendText' | translate }}
    </small>
  }
} @else {
  <small>
    {{ 'igo.geo.layer.legend.noLegendText' | translate }}
  </small>
}
