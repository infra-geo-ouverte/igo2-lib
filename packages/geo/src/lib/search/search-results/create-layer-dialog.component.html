<h1 mat-dialog-title class="mat-typography">Save Fetures in new or existing layer</h1>

<div mat-dialog-content class="mat-typography">
    <form class="igo-form" [formGroup]="form">
      
        <div class="igo-input-container">
          <mat-form-field>
            <input type="text"
              placeholder="Pick one"
              aria-label="Layers"
              matInput
              [matAutocomplete]="auto"
              formControlName="layerName">
            <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
              <mat-option *ngFor="let layer of layers" [value]="layer.title">
                <p mat-line>{{layer.title}}</p>
              </mat-option>
            </mat-autocomplete>
          </mat-form-field>
      </div>


        <div class="igo-input-container">
          <mat-form-field>
            <mat-select multiple placeholder="Features" [value]="features">
              <mat-option *ngFor="let feature of features" [value]="feature">
                  <p mat-line>{{feature.meta.title}}</p>
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <h2>Fetures list</h2>
        <igo-list [navigation]="false" [selection]="false">
          <ng-template ngFor let-feature [ngForOf]="features">
            <igo-search-results-item
              igoListItem
              color="accent"
              [result]="feature"
              showIcons="true">
            </igo-search-results-item>
          </ng-template>
        </igo-list>
        
    </form>
</div>

<div mat-dialog-actions style="justify-content: center">
  <div class="igo-form-button-group create-layer-button-top-padding">
    <button
      mat-raised-button
      type="button"
      (click)="cancel()">
      {{'igo.geo.catalog.library.cancel' | translate}}
    </button>
    <button
      id="createLayerBtnDialog"
      mat-raised-button
      type="button"
      color="primary"
      (click)="save()">
      Save
    </button>
  </div>
</div>